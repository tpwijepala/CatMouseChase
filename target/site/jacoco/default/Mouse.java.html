<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Mouse.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">project</a> &gt; <a href="index.source.html" class="el_package">default</a> &gt; <span class="el_source">Mouse.java</span></div><h1>Mouse.java</h1><pre class="source lang-java linenums">import javax.imageio.ImageIO;
import java.io.File;
import java.io.IOException;
import java.util.ArrayList;

/**
 * Represents a Mouse that is controlled by the player
 * @author Robert Wilson
 * @version 1.0
 */
public class Mouse extends MovingEntity {
    // private Image picture; // mousePic can be declared const and given an initial
    // value once a picture is found and included in files
    // private Position mousePosition;
    // Position pos;
    Map map;
<span class="fc" id="L17">    private Score playerScore = new Score();</span>
    Position newPos;

    public Mouse(int x, int y, Map m) {
<span class="fc" id="L21">        super(x, y, m);</span>
<span class="fc" id="L22">        map = m;</span>
<span class="fc" id="L23">        newPos = pos;</span>
        try {
<span class="fc" id="L25">            picture = ImageIO.read(new File(&quot;src/main/resources/mouse.png&quot;));</span>
<span class="pc" id="L26">        } catch (IOException e) {</span>
<span class="nc" id="L27">            e.printStackTrace();</span>
        }
<span class="fc" id="L29">    }</span>

    public Position getMousePosition() {
<span class="nc" id="L32">        return pos;</span>
    }

    public void move() {
<span class="fc" id="L36">        move(newPos);</span>
<span class="fc" id="L37">        collectItem();</span>
<span class="fc" id="L38">        checkFinish();</span>
<span class="fc" id="L39">    }</span>

    /**
     * Checks if this mouse meets the requirements to finish the game,
     * ending the game if met.
     */
    private void checkFinish() {
<span class="fc" id="L46">        ArrayList&lt;Position&gt; end = map.getEnd();</span>
<span class="fc bfc" id="L47" title="All 2 branches covered.">        if (map.crumbsCollect &gt;= 4) {</span>
<span class="fc bfc" id="L48" title="All 2 branches covered.">            for (int i = 0; i &lt; end.size(); i++){</span>
<span class="pc bpc" id="L49" title="1 of 4 branches missed.">                if (getPos().getX() == end.get(i).getX() &amp;&amp; getPos().getY() == end.get(i).getY()){</span>
                    
<span class="fc" id="L51">                    Game.State = Game.STATE.WIN;</span>
                }
            }
        }
<span class="fc" id="L55">    }</span>

    public void collectItem() {
<span class="fc" id="L58">        StaticEntity item = map.getItem(getPos());</span>
<span class="fc bfc" id="L59" title="All 2 branches covered.">        if (item != null) {</span>
<span class="fc bfc" id="L60" title="All 2 branches covered.">            if (item instanceof Cheese)</span>
<span class="fc" id="L61">                map.cheeseExist(true);</span>

<span class="fc bfc" id="L63" title="All 2 branches covered.">            if (item instanceof Crumb)</span>
<span class="fc" id="L64">                map.crumbsCollect++;</span>

<span class="fc" id="L66">            playerScore.setScore(item.getPoints());</span>
<span class="fc" id="L67">            map.removeItem(item);</span>

<span class="fc bfc" id="L69" title="All 2 branches covered.">            if (playerScore.checkScoreBelowZero() == true) {</span>
<span class="fc" id="L70">                Game.State = Game.STATE.LOSE;</span>
            }
        } else {
        }
<span class="fc" id="L74">    }</span>

    /**
     * @return Mouse's current score
     */
    public Score getMouseScore() {
<span class="fc" id="L80">        return playerScore;</span>
    }

    
    public void setMouseScore() {
<span class="nc" id="L85">        playerScore = new Score();</span>
<span class="nc" id="L86">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span></div></body></html>